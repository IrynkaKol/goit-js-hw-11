{"mappings":"YAEA,IAAMA,EAAOC,SAASC,cAAc,gBAE9BC,GADcF,SAASC,cAAc,SAC3BD,SAASC,cAAc,eACjCE,EAAUH,SAASC,cAAc,YAKnCG,EAAc,EACdC,EAAc,GAyBT,SAAAC,EAAUC,EAASC,IAvB5B,SAAqBD,EAASC,GAC1B,IAAMC,EAAe,IAAIC,gBAAgB,CACrCC,IAPI,qCAQJC,EAAGL,EACHM,SAAU,GACVC,KAAMN,EACNO,WAAY,QACZC,YAAa,aACbC,WAAY,SAGpB,OAAOC,MAAM,GAAeC,OAjBX,2BAiBQ,KAAgBA,OAAbV,IAC3BW,MAAK,SAACC,GACH,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,M,IAEbC,OAAM,SAACC,GACJC,QAAQD,MAAMA,E,KAKlBE,CAAYtB,EAASC,GACpBY,MAAK,SAAAC,GACNO,QAAQE,IAAIT,GAoBhB,SAAsBU,GAClB,IAAMC,EAASD,EAAOE,KAAI,SAACC,GAEvB,MAAO,mDAE2Bf,OAA5Be,EAAMC,aAAa,WAGXhB,OAHoBY,EAAOK,KAAK,8FAMhCjB,OAHAe,EAAMG,MAAM,+DAMTlB,OAHHe,EAAMI,MAAM,kEAMRnB,OAHDe,EAAMK,SAAS,mEAGEpB,OAAhBe,EAAMM,UAAU,+B,IAKrCC,KAAK,IACNtC,EAAQuC,mBAAmB,YAAaV,E,CAzCxCW,CADetB,EAAKuB,MAGpBxC,GAAe,EACXiB,EAAKwB,MAAQ,GACjB3C,EAAQ4C,UAAUC,OAAO,aAErB3C,IAAgBiB,EAAKwB,OACrB3C,EAAQ4C,UAAUE,IAAI,Y,IAMnB9C,EAAH+C,iBAAiB,SAAS,WAC9B3C,EAAUD,EAAaD,E,IA+BsBL,EAA5CkD,iBAAiB,UAEtB,SAAkBf,GACdA,EAAMgB,iBAC0B7C,EAAlB6B,EAAMiB,OAAOC,SAASC,YAAYC,MAChDlD,EAAc,EACdD,EAAQoD,UAAY,GAEpBjD,EAAUD,EAAaD,E","sources":["src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst form = document.querySelector(\".search-form\");\nconst searchQuery = document.querySelector(\"input\");\nconst loadBtn = document.querySelector(\".load-more\");\nconst gallery = document.querySelector(\".gallery\")\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API = \"31662888-485c328889ccd569f357119c9\"\n\nlet pageToFetch = 1; \nlet wordToFetch = \"\";\n\nfunction fetchEvents(keyWord, searchPage) {\n    const searchParams = new URLSearchParams({\n        key: API,\n        q: keyWord,\n        per_page: 40,\n        page: searchPage,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    })\n    //console.log(searchParams.toString()); \nreturn fetch(`${BASE_URL}?${searchParams}`)\n.then((resp) => {\n    if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch((error) => {\n        console.error(error)\n    })\n}  //робе запит\n\nfunction getEvents(keyWord, searchPage){\n    fetchEvents(keyWord, searchPage)\n    .then(resp => {\n    console.log(resp) //дивимось як достукатись до events\n    const events = resp.hits\n    renderEvents(events) //викликаємо розмітку\n    //console.log(events)\n    pageToFetch += 1;\n    if (resp.total > 1) {\n    loadBtn.classList.remove(\"load-more\")\n    }\n    if (pageToFetch === resp.total) {\n        loadBtn.classList.add(\"load-more\")\n    }\n\n});\n} //отримали подію\n//getEvents('cat', // був для тесту\nloadBtn.addEventListener(\"click\", () => {\n    getEvents(wordToFetch, pageToFetch)\n})\n\n\nfunction renderEvents(events) {\n    const markup = events.map((event) => {\n        //console.log(event)\n        return `\n        <div class=\"photo-card\">\n  <img src=\"${event.webformatURL}\" alt=\"${events.tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>: ${event.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>: ${event.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>: ${event.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>: ${event.downloads}\n    </p>\n  </div>\n</div>`;\n    })\n    .join(\"\");\n    gallery.insertAdjacentHTML(\"beforeend\", markup)\n\n} //малюємо розмітку. в якості параметрів приймає масив подій\n\nform.addEventListener(\"submit\", onClick);\n\nfunction onClick (event) {\n    event.preventDefault(); // блокуємо перезавантаження сторінки\n    wordToFetch = event.target.elements.searchQuery.value; //перевизначаємо wordToFetch, в якому event.target_ який э  формою, elements це об'єкти, а в цього обєкта є властивості, які відповідають значення атрибуту name нашого inputa в HTML, \n    pageToFetch = 1;\n    gallery.innerHTML = '';\n\n    getEvents(wordToFetch, pageToFetch)\n}\n\n"],"names":["$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$loadBtn","$b8f9b7833fa37166$var$gallery","$b8f9b7833fa37166$var$pageToFetch","$b8f9b7833fa37166$var$wordToFetch","$b8f9b7833fa37166$var$getEvents","keyWord","searchPage","searchParams","URLSearchParams","key","q","per_page","page","image_type","orientation","safesearch","fetch","concat","then","resp","ok","Error","status","json","catch","error","console","$b8f9b7833fa37166$var$fetchEvents","log","events","markup","map","event","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$b8f9b7833fa37166$var$renderEvents","hits","total","classList","remove","add","addEventListener","preventDefault","target","elements","searchQuery","value","innerHTML"],"version":3,"file":"index.701934bf.js.map"}